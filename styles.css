/* CSS Variables for Theming */
:root {
    --primary-pink: #E8A5B8;
    --light-pink: #F4C5D6;
    --pale-pink: #FFE8F0;
    --dark-rose: #C78893;
    --gold: #D4AF37;
    --cream: #FFF9F5;
    --text-dark: #5A4A4A;
    --seal-red: #B8405E;
}

/* Global Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Georgia', 'Times New Roman', serif;
    background: linear-gradient(135deg, #FFF5F7 0%, #FFE8EE 50%, #FFF0F5 100%);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow-x: hidden;
    position: relative;
    -webkit-font-smoothing: antialiased;
}

/* Ambient Background Effect */
body::before {
    content: '';
    position: fixed;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle at 30% 50%, rgba(232, 165, 184, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(255, 209, 232, 0.15) 0%, transparent 50%);
    animation: ambientShift 20s ease-in-out infinite;
    pointer-events: none;
}

@keyframes ambientShift {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    50% { transform: translate(-5%, -5%) rotate(5deg); }
}

.container {
    width: 100%;
    max-width: 100vw;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    position: relative;
    z-index: 1;
}

/* ==================== FLOATING HEARTS ANIMATION ==================== */
.hearts-container {
    position: absolute;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
}

.heart {
    position: absolute;
    width: 20px;
    height: 20px;
    opacity: 0;
    animation: heartFloat 6s ease-in-out infinite;
}

.heart::before,
.heart::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 32px;
    background: var(--primary-pink);
    border-radius: 20px 20px 0 0;
}

.heart::before {
    left: 10px;
    transform: rotate(-45deg);
    transform-origin: 0 100%;
}

.heart::after {
    left: 0;
    transform: rotate(45deg);
    transform-origin: 100% 100%;
}

.heart:nth-child(1) {
    left: 10%;
    top: 80%;
    animation-delay: 0s;
    animation-duration: 5s;
}

.heart:nth-child(2) {
    left: 25%;
    top: 85%;
    animation-delay: 1s;
    animation-duration: 6s;
}

.heart:nth-child(3) {
    left: 75%;
    top: 80%;
    animation-delay: 2s;
    animation-duration: 5.5s;
}

.heart:nth-child(4) {
    left: 90%;
    top: 85%;
    animation-delay: 3s;
    animation-duration: 6.5s;
}

.heart:nth-child(5) {
    left: 50%;
    top: 90%;
    animation-delay: 1.5s;
    animation-duration: 5.8s;
}

.heart:nth-child(6) {
    left: 40%;
    top: 85%;
    animation-delay: 2.5s;
    animation-duration: 6.2s;
}

@keyframes heartFloat {
    0% {
        transform: translateY(0) scale(0.8) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 0.8;
    }
    50% {
        transform: translateY(-200px) scale(1) rotate(180deg);
        opacity: 0.6;
    }
    100% {
        transform: translateY(-400px) scale(0.5) rotate(360deg);
        opacity: 0;
    }
}

/* ==================== ENVELOPE STYLES ==================== */
.envelope-wrapper {
    perspective: 1500px;
    position: relative;
    animation: floatIn 1.5s ease-out;
    z-index: 2;
}

@keyframes floatIn {
    from {
        opacity: 0;
        transform: translateY(50px) scale(0.9);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.envelope {
    width: 90vw;
    max-width: 420px;
    height: 280px;
    position: relative;
    cursor: pointer;
    transition: transform 0.3s ease;
    transform-style: preserve-3d;
    filter: drop-shadow(0 15px 40px rgba(232, 165, 184, 0.4));
}

.envelope:active {
    transform: scale(0.98);
}

/* Envelope Body */
.envelope-body {
    position: absolute;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #FFE8F0 0%, #FFF0F5 50%, #FFE8F0 100%);
    border-radius: 8px;
    box-shadow: 
        0 10px 40px rgba(232, 165, 184, 0.3),
        0 5px 15px rgba(0, 0, 0, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
    overflow: hidden;
    position: relative;
}

/* Decorative patterns on envelope */
.envelope-body::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 150px;
    height: 150px;
    background: radial-gradient(circle, rgba(232, 165, 184, 0.1) 0%, transparent 70%);
    border-radius: 50%;
}

.envelope-body::after {
    content: '';
    position: absolute;
    bottom: 20px;
    right: 20px;
    width: 80px;
    height: 80px;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 20 Q45 35 40 50 Q35 65 40 75 Q45 85 55 85 Q65 85 70 75 Q75 65 70 50 Q65 35 60 20 Q55 10 50 20 Z" fill="%23F4C5D6" opacity="0.3"/><path d="M30 40 Q28 48 26 56 Q24 64 26 70 Q28 76 34 76 Q40 76 42 70 Q44 64 42 56 Q40 48 38 40 Q36 34 30 40 Z" fill="%23E8A5B8" opacity="0.3"/></svg>') no-repeat center;
    background-size: contain;
    opacity: 0.6;
}

/* Envelope Flap */
.envelope-flap {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 50%;
    background: linear-gradient(180deg, var(--light-pink) 0%, var(--primary-pink) 100%);
    transform-origin: top center;
    border-radius: 0 0 8px 8px;
    box-shadow: 
        0 3px 10px rgba(0, 0, 0, 0.15),
        inset 0 -2px 5px rgba(255, 255, 255, 0.3);
    transition: transform 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    z-index: 10;
}

.envelope-flap::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 210px solid transparent;
    border-right: 210px solid transparent;
    border-bottom: 140px solid var(--pale-pink);
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.envelope.opened .envelope-flap {
    transform: rotateX(-180deg);
}

/* Wax Seal */
.wax-seal {
    position: absolute;
    top: 42%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 70px;
    height: 70px;
    color: var(--seal-red);
    z-index: 15;
    transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    filter: drop-shadow(0 4px 8px rgba(184, 64, 94, 0.4));
    animation: sealPulse 2s ease-in-out infinite;
}

@keyframes sealPulse {
    0%, 100% { transform: translate(-50%, -50%) scale(1); }
    50% { transform: translate(-50%, -50%) scale(1.05); }
}

.envelope.opened .wax-seal {
    transform: translate(-50%, -50%) scale(0) rotate(180deg);
    opacity: 0;
}

.wax-seal svg {
    width: 100%;
    height: 100%;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
}

/* Tap Instruction */
.tap-instruction {
    position: absolute;
    bottom: -60px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    color: var(--dark-rose);
    font-size: 14px;
    font-style: italic;
    animation: tapBounce 2s ease-in-out infinite;
    opacity: 0.8;
}

@keyframes tapBounce {
    0%, 100% { transform: translateX(-50%) translateY(0); }
    50% { transform: translateX(-50%) translateY(-8px); }
}

.tap-icon {
    width: 32px;
    height: 32px;
    fill: var(--dark-rose);
    animation: tapRotate 2s ease-in-out infinite;
}

@keyframes tapRotate {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-15deg); }
    75% { transform: rotate(15deg); }
}

.envelope.opened ~ .tap-instruction {
    opacity: 0;
    pointer-events: none;
}

/* ==================== INVITATION CARD STYLES ==================== */
.invitation-card {
    position: absolute;
    width: 90vw;
    max-width: 420px;
    min-height: 600px;
    background-image: url('invitation-bg.jpeg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    border-radius: 12px;
    box-shadow: 
        0 20px 60px rgba(232, 165, 184, 0.4),
        0 10px 30px rgba(0, 0, 0, 0.1);
    opacity: 0;
    transform: translateY(30px) scale(0.95);
    pointer-events: none;
    transition: all 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    position: relative;
}

.invitation-card.visible {
    opacity: 1;
    transform: translateY(0) scale(1);
    pointer-events: all;
}

/* ==================== WHATSAPP BUTTON STYLES ==================== */
.confirmation-section {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 30px;
    text-align: center;
    opacity: 0;
    animation: fadeInUp 0.8s ease-out 1.3s forwards;
    background: linear-gradient(to top, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.8) 50%, transparent 100%);
    border-radius: 0 0 12px 12px;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.whatsapp-button {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 12px 24px;
    background: linear-gradient(135deg, var(--primary-pink) 0%, var(--dark-rose) 100%);
    color: white;
    text-decoration: none;
    border-radius: 50px;
    font-family: 'Georgia', serif;
    font-size: clamp(14px, 3.5vw, 15px);
    font-weight: 500;
    box-shadow: 
        0 8px 20px rgba(232, 165, 184, 0.4),
        0 4px 10px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.whatsapp-button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: width 0.5s, height 0.5s;
}

.whatsapp-button:active::before {
    width: 300px;
    height: 300px;
}

.whatsapp-button:active {
    transform: scale(0.96);
    box-shadow: 
        0 4px 12px rgba(232, 165, 184, 0.5),
        0 2px 6px rgba(0, 0, 0, 0.1);
}

.whatsapp-icon {
    width: 20px;
    height: 20px;
    fill: currentColor;
    position: relative;
    z-index: 1;
}

.whatsapp-button span {
    position: relative;
    z-index: 1;
}

/* ==================== RESPONSIVE ADJUSTMENTS ==================== */
@media (max-width: 480px) {
    .container {
        padding: 15px;
    }

    .envelope {
        height: 250px;
    }

    .card-content {
        padding: 40px 25px 30px;
    }

    .confirmation-section {
        padding: 0 25px 30px;
    }
}

@media (max-height: 700px) {
    .envelope {
        height: 220px;
    }

    .tap-instruction {
        bottom: -50px;
        font-size: 12px;
    }
}

/* Prevent text selection on interactive elements */
.envelope,
.whatsapp-button {
    -webkit-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
}
